/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var e={907:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b});function n(e){return Math.round(o(e))}function o(e){return 1200/e}function i(e,t){return void 0===t&&(t=e),Math.round(7*s(e,t))}function s(e,t){return o(e)*function(e,t){return(50*e-31*t)/(19*t)}(e,t)}void 0===String.prototype.trim&&(String.prototype.trim=function(){return String(this).replace(/^\s+|\s+$/g,"")});var a={A:".-",B:"-...",C:"-.-.",D:"-..",E:".",F:"..-.",G:"--.",H:"....",I:"..",J:".---",K:"-.-",L:".-..",M:"--",N:"-.",O:"---",P:".--.",Q:"--.-",R:".-.",S:"...",T:"-",U:"..-",V:"...-",W:".--",X:"-..-",Y:"-.--",Z:"--..",1:".----",2:"..---",3:"...--",4:"....-",5:".....",6:"-....",7:"--...",8:"---..",9:"----.",0:"-----",".":".-.-.-",",":"--..--",":":"---...","?":"..--..","'":".----.","-":"-....-","/":"-..-.","(":"-.--.",")":"-.--.-",'"':".-..-.","@":".--.-.","=":"-...-","&":".-...","+":".-.-.","!":"-.-.--"," ":"/"},u={},c={"<AA>":".-.-","<AR>":".-.-.","<AS>":".-...","<BK>":"-...-.-","<BT>":"-...-","<CL>":"-.-..-..","<CT>":"-.-.-","<DO>":"-..---","<KN>":"-.--.","<SK>":"...-.-","<VA>":"...-.-","<SN>":"...-.","<VE>":"...-.","<SOS>":"...---..."},p={},h={};for(var l in a)h[l]=a[l],u[a[l]]=l,p[a[l]]=l;for(var f in c)h[f]=c[f],p[c[f]]=f;var m,d=function(e){return(e=(e=(e=(e=(e=(e=e.replace(/\|/g,"/")).replace(/\//g," / ")).replace(/\s+/g," ")).replace(/(\/ )+\//g,"/")).replace(/_/g,"-")).replace(/^\s+/,"")).replace(/\s+$/,"")},g=function(){function e(e){void 0===e&&(e=!0),this.useProsigns=e,this.input="",this.output="",this.morse="",this.message="",this.inputWasMorse=void 0,this.hasError=void 0}return e.prototype.translate=function(e,t){var r;if(void 0===t&&(t=function(e){return null!==(e=d(e)).match(/^[/.-][ /.-]*$/)}(e)),t?(this.inputWasMorse=!0,r=function(e,t){void 0===t&&(t=!0);var r={morse:"",message:"",hasError:!1};if(""===(e=d(e)))return r;var n,o,i,s=e.split(" ");n=t?p:u;for(var a=0;a<s.length;a++)void 0===(o=n[i=s[a]])?(r.morse+="#"+i+"# ",r.message+="#",r.hasError=!0):(r.morse+=i+" ",r.message+=o);return r.morse=r.morse.slice(0,r.morse.length-1),r}(e,this.useProsigns)):(this.inputWasMorse=!1,r=function(e,t){void 0===t&&(t=!0);var r={morse:"",message:"",hasError:!1};if(""===(e=function(e){return(e=(e=e.toUpperCase()).trim()).replace(/\s+/g," ")}(e)))return r;for(var n,o,i,s,u,c,p=[];e.length>0;)o=1,t&&(n=e.match(/^<...?>/))&&(o=n[0].length),p.push(e.slice(0,o)),e=e.slice(o,e.length);for(i=t?h:a,s=0;s<p.length;s++)void 0===(u=i[c=p[s]])?(r.message+="#"+c+"#",r.morse+="# ",r.hasError=!0):(r.message+=c,r.morse+=u+" ");return r.morse=r.morse.slice(0,r.morse.length-1),r}(e,this.useProsigns)),this.morse=r.morse,this.message=r.message,this.inputWasMorse?(this.input=this.morse,this.output=this.message):(this.input=this.message,this.output=this.morse),this.hasError=r.hasError,this.hasError)throw new Error("Error in input");return this.output},e.prototype.clearError=function(){this.inputWasMorse||(this.message=this.message.replace(/#[^#]*?#/g,"")),this.morse=this.morse.replace(/#/g,""),this.hasError=!1},e}(),v=(m=function(e,t){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},m(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});const b=function(e){function t(t,r,n){void 0===t&&(t=!0),void 0===r&&(r=20),void 0===n&&(n=r);var o=e.call(this,t)||this;return o.wpm=r,o.fwpm=n,o}return v(t,e),Object.defineProperty(t.prototype,"wpm",{get:function(){return this._wpm},set:function(e){this._wpm=e,e<this._fwpm&&(this._fwpm=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fwpm",{get:function(){return this._fwpm},set:function(e){this._fwpm=e,e>this._wpm&&(this._wpm=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordSpace",{get:function(){return i(this._wpm,this._fwpm)},enumerable:!1,configurable:!0}),t.prototype.getTimings=function(){return t.getTimingsGeneral(n(this._wpm),(e=this._wpm,Math.round(3*o(e))),function(e){return n(e)}(this._wpm),function(e,t){return void 0===t&&(t=e),Math.round(3*s(e,t))}(this._wpm,this._fwpm),i(this._wpm,this._fwpm),this.morse);var e},t.getTimingsGeneral=function(e,t,r,n,o,i){i=(i=i.replace(/ \/ /g,"/")).replace(/([\.\-])(?=[\.\-])/g,"$1+");for(var s=[],a=0;a<i.length;a++)switch(i[a]){case".":s.push(e);break;case"-":s.push(t);break;case"+":s.push(-r);break;case" ":s.push(-n);break;case"/":s.push(-o)}return s},t.prototype.getDuration=function(){for(var e=this.getTimings(),t=0,r=0;r<e.length;r++)t+=Math.abs(e[r]);return t},t}(g)},871:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,r,n,o,i){void 0===t&&(t=!0),void 0===r&&(r=20),void 0===n&&(n=20),void 0===o&&(o=550),void 0===i&&(i=8e3);var s=e.call(this,t,r,n)||this;return s.frequency=o,s.sampleRate=i,s}return o(t,e),t.prototype.getSample=function(e){return void 0===e&&(e=0),t.getSampleGeneral(this.getTimings(),this.frequency,this.sampleRate,e)},t.getSampleGeneral=function(e,t,r,n){void 0===n&&(n=0);var o=[];if(0===e.length)return[];e.push(-Math.max(5,n));for(var i,s,a=1.5*t/r,u=Math.SQRT1_2,c=Math.sin(2*Math.PI*a),p=Math.cos(2*Math.PI*a),h=c/(2*Math.pow(10,u/20)),l=1+h,f=.5*(1-p)/l,m=(1-p)/l,d=.5*(1-p)/l,g=-2*p/l,v=(1-h)/l,b=2*Math.PI*t/r,y=e[0]>0?1:0,w=0,_=0,S=0,M=0,O=0;O<e.length;O+=1){for(var P=r*Math.abs(e[O])/1e3,k=0;k<P;k+=1)s=f*(i=y*Math.sin(k*b))+m*w+d*_-g*S-v*M,o.push(.813*s),_=w,w=i,M=S,S=s;y=1-y}return o},t.prototype.getWAASample=function(e){void 0===e&&(e=0),e=Math.max(5,e);var t=this.getTimings();t.push(-e);var r=window.OfflineAudioContext||window.webkitOfflineAudioContext;if(void 0===r)throw new Error("No OfflineAudioContext class defined");var n=new r(1,this.sampleRate*(this.getDuration()+e)/1e3,this.sampleRate),o=n.createGain();o.gain.setValueAtTime(.813,0);var i=n.createBiquadFilter();i.type="lowpass",i.frequency.setValueAtTime(1.1*this.frequency,0),o.connect(i),i.connect(n.destination);for(var s,a,u=0,c=0;c<t.length;c++)a=Math.abs(t[c])/1e3,t[c]>0&&((s=n.createOscillator()).type="sine",s.frequency.setValueAtTime(this.frequency,u),s.start(u),s.stop(u+a),s.connect(o)),u+=a;return n.startRendering().then((function(e){return e.getChannelData(0)}))},t}(r(907).default);t.default=i},329:(e,t)=>{t.Yu=void 0;var r=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},n=function(e){return[255&e,e>>8&255]};t.Yu=function(e,t,o){void 0===t&&(t=8e3),void 0===o&&(o=8),e=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=Math.max(Math.min(128+Math.round(127*e[r]),255),0);return t}(e);var i={chunkId:[82,73,70,70],chunkSize:0,format:[87,65,86,69],subChunk1Id:[102,109,116,32],subChunk1Size:16,audioFormat:1,numChannels:1,sampleRate:t,byteRate:0,blockAlign:0,bitsPerSample:o,subChunk2Id:[100,97,116,97],subChunk2Size:0};return i.blockAlign=i.numChannels*i.bitsPerSample>>3,i.byteRate=i.blockAlign*i.sampleRate,i.subChunk2Size=e.length*(i.bitsPerSample>>3),i.chunkSize=36+i.subChunk2Size,i.chunkId.concat(r(i.chunkSize),i.format,i.subChunk1Id,r(i.subChunk1Size),n(i.audioFormat),n(i.numChannels),r(i.sampleRate),r(i.byteRate),n(i.blockAlign),n(i.bitsPerSample),i.subChunk2Id,r(i.subChunk2Size),16==i.bitsPerSample?function(e){for(var t=[],r=0,n=e.length,o=0;o<n;o++)t[r++]=255&e[o],t[r++]=e[o]>>8&255;return t}(e):e)}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=r(871),t=r.n(e),n=r(329);console.log("Hello World2");var o=new Audio;window.doPlay=function(e,r,i,s){var a=1200/i;console.log(a);var u=7*a,c=new(t())(!0,r,i,550,8e3);c.translate(e,!1);var p=n.Yu(c.getSample(u));o=null,o=new Audio;var h=new Int8Array(p).buffer,l=window.URL.createObjectURL(new Blob([h]));o.src=l,o.addEventListener("ended",(function(){s()})),o.play()},window.doPause=function(e){o.addEventListener("pause",(function(){e()})),console.log("ended:"+o.ended),o.ended||o.paused||!o.src?e():o.pause()}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SixFQU5GLEVBTStCM0wsRUFBS0ssRUFMdEMsSUFDQyxLQUtmc0wsRUFBWS9KLFVBQVU0SixHQUFLLEdBQzNCLElBQUlJLEVBQU0sS0FBaUJELEVBQVl2RyxVQUFVaEYsSUFDakRpTCxFQUFVLEtBQ1ZBLEVBQVUsSUFBSUMsTUFDZCxJQUFJTyxFQUFRLElBQUlDLFVBQVVGLEdBQUtHLE9BRTNCQyxFQUFNN0UsT0FBTzhFLElBQUlDLGdCQUFnQixJQUFJQyxLQUFLLENBQUNOLEtBRS9DUixFQUFRZSxJQUFJSixFQUNaWCxFQUFRZ0IsaUJBQWlCLFNBQVMsV0FDOUJaLE9BRUpKLEVBQVFpQixRQWdCWG5GLE9BQWVvRixRQWJoQixTQUFpQkMsR0FDYm5CLEVBQVFnQixpQkFBaUIsU0FBUyxXQUM5QkcsT0FFSnJCLFFBQVFDLElBQUksU0FBV0MsRUFBUW9CLE9BQzNCcEIsRUFBUW9CLE9BQVNwQixFQUFRcUIsU0FBV3JCLEVBQVFlLElBQzVDSSxJQUVBbkIsRUFBUXNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL21vcnNlLXByby9tb3JzZS1wcm8td3BtLnRzIiwid2VicGFjazovLy8uL3NyYy9tb3JzZS1wcm8vbW9yc2UtcHJvLnRzIiwid2VicGFjazovLy8uL3NyYy9tb3JzZS1wcm8vbW9yc2UtcHJvLW1lc3NhZ2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vcnNlLXByby9tb3JzZS1wcm8tY3cudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vcnNlLXByby9tb3JzZS1wcm8tY3ctd2F2ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9yc2UtcHJvL21vcnNlLXByby11dGlsLXJpZmZ3YXZlLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly8vLi9zcmMvbW9yc2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG5UaGlzIGNvZGUgaXMgwqkgQ29weXJpZ2h0IFN0ZXBoZW4gQy4gUGhpbGxpcHMsIDIwMTguXG5FbWFpbDogc3RldmVAc2NwaGlsbGlwcy5jb21cbiovXG4vKlxuTGljZW5zZWQgdW5kZXIgdGhlIEVVUEwsIFZlcnNpb24gMS4yIG9yIOKAkyBhcyBzb29uIHRoZXkgd2lsbCBiZSBhcHByb3ZlZCBieSB0aGUgRXVyb3BlYW4gQ29tbWlzc2lvbiAtIHN1YnNlcXVlbnQgdmVyc2lvbnMgb2YgdGhlIEVVUEwgKHRoZSBcIkxpY2VuY2VcIik7XG5Zb3UgbWF5IG5vdCB1c2UgdGhpcyB3b3JrIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2VuY2UuXG5Zb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2VuY2UgYXQ6IGh0dHBzOi8vam9pbnVwLmVjLmV1cm9wYS5ldS9jb21tdW5pdHkvZXVwbC9cblVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2VuY2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cblNlZSB0aGUgTGljZW5jZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2VuY2UuXG4qL1xuXG4vKipcbiAqIFVzZWZ1bCBjb25zdGFudHMgYW5kIGZ1bmN0aW9ucyBmb3IgY29tcHV0aW5nIHRoZSBzcGVlZCBvZiBNb3JzZSBjb2RlLlxuICovXG5cbmNvbnN0IERJVFNfUEVSX1dPUkQgPSA1MDsgIC8qKiBkaXRzIGluIFwiUEFSSVMgXCIgKi9cbmNvbnN0IFNQQUNFU19JTl9QQVJJUyA9IDE5OyAgLyoqIDV4IDMtZGl0IGludGVyLWNoYXJhY3RlciBzcGFjZXMgKyAxeCA3LWRpdCBzcGFjZSAqL1xuY29uc3QgTVNfSU5fTUlOVVRFID0gNjAwMDA7ICAvKiogbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpbiAxIG1pbnV0ZSAqL1xuXG4vKiogR2V0IHRoZSBkaXQgbGVuZ3RoIGluIG1zXG4gKiBAcGFyYW0ge251bWJlcn0gd3BtIC0gc3BlZWQgaW4gd29yZHMgcGVyIG1pbnV0ZVxuICogQHJldHVybiB7aW50ZWdlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpdExlbmd0aCh3cG0pIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChfZGl0TGVuZ3RoKHdwbSkpO1xufVxuXG5mdW5jdGlvbiBfZGl0TGVuZ3RoKHdwbSkge1xuICAgIHJldHVybiAoTVNfSU5fTUlOVVRFIC8gRElUU19QRVJfV09SRCkgLyB3cG07XG59XG5cbi8qKlxuICogR2V0IHRoZSBkYWggbGVuZ3RoIGluIG1zXG4gKiBAcGFyYW0ge251bWJlcn0gd3BtIC0gc3BlZWQgaW4gd29yZHMgcGVyIG1pbnV0ZVxuICogQHJldHVybiB7aW50ZWdlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRhaExlbmd0aCh3cG0pIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZCgzICogX2RpdExlbmd0aCh3cG0pKTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGRpdCBzcGFjZSBpbiBtc1xuICogQHBhcmFtIHtudW1iZXJ9IHdwbSAtIHNwZWVkIGluIHdvcmRzIHBlciBtaW51dGVcbiAqIEByZXR1cm4ge2ludGVnZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXRTcGFjZSh3cG0pIHtcbiAgICByZXR1cm4gZGl0TGVuZ3RoKHdwbSlcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGNoYXJhY3Rlci1zcGFjZSBpbiBtc1xuICogQHBhcmFtIHtudW1iZXJ9IHdwbSAtIHNwZWVkIGluIHdvcmRzIHBlciBtaW51dGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbZndwbSA9IHdwbV0gLSBGYXJuc3dvcnRoIHNwZWVkIGluIHdvcmRzIHBlciBtaW51dGVcbiAqIEByZXR1cm4ge2ludGVnZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGFyU3BhY2Uod3BtLCBmd3BtID0gd3BtKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoMyAqIF9mZGl0TGVuZ3RoKHdwbSwgZndwbSkpO1xufVxuXG4vKipcbiAqIEdldCB0aGUgd29yZC1zcGFjZSBpbiBtc1xuICogQHBhcmFtIHtudW1iZXJ9IHdwbSAtIHNwZWVkIGluIHdvcmRzIHBlciBtaW51dGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbZndwbSA9IHdwbV0gLSBGYXJuc3dvcnRoIHNwZWVkIGluIHdvcmRzIHBlciBtaW51dGVcbiAqIEByZXR1cm4ge2ludGVnZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3b3JkU3BhY2Uod3BtLCBmd3BtID0gd3BtKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoNyAqIF9mZGl0TGVuZ3RoKHdwbSwgZndwbSkpO1xufVxuXG4vKipcbiAqIEdldCB0aGUgV1BNIGZvciBhIGdpdmVuIGRpdCBsZW5ndGggaW4gbXNcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdwbShkaXRMZW4pIHtcbiAgICByZXR1cm4gKE1TX0lOX01JTlVURSAvIERJVFNfUEVSX1dPUkQpIC8gZGl0TGVuO1xufVxuXG4vKipcbiAqIEdldCB0aGUgRmFybnN3b3J0aCBkaXQgbGVuZ3RoIGluIG1zIGZvciBhIGdpdmVuIFdQTSBhbmQgRmFybnN3b3J0aCBXUE0uIE5vdGUsIGFjdHVhbCBkaXQtc3BhY2VzIHNob3VsZCBub3QgYmUgc2xvd2VkIGRvd25cbiAqIEByZXR1cm4ge2ludGVnZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmZGl0TGVuZ3RoKHdwbSwgZndwbSkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKF9mZGl0TGVuZ3RoKHdwbSwgZndwbSkpO1xufVxuXG5mdW5jdGlvbiBfZmRpdExlbmd0aCh3cG0sIGZ3cG0pIHtcbiAgICByZXR1cm4gX2RpdExlbmd0aCh3cG0pICogcmF0aW8od3BtLCBmd3BtKTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGRpdCBsZW5ndGggcmF0aW8gZm9yIGEgZ2l2ZW4gV1BNIGFuZCBGYXJuc3dvcnRoIFdQTVxuICogQHBhcmFtIHtudW1iZXJ9IHdwbSAtIHNwZWVkIGluIHdvcmRzIHBlciBtaW51dGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBmd3BtIC0gRmFybnN3b3J0aCBzcGVlZCBpbiB3b3JkcyBwZXIgbWludXRlXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByYXRpbyh3cG0sIGZ3cG0pIHtcbiAgICAvLyBcIlBBUklTIFwiIGlzIDMxIHVuaXRzIGZvciB0aGUgY2hhcmFjdGVycyBhbmQgMTkgdW5pdHMgZm9yIHRoZSBpbnRlci1jaGFyYWN0ZXIgc3BhY2VzIGFuZCBpbnRlci13b3JkIHNwYWNlXG4gICAgLy8gT25lIHVuaXQgdGFrZXMgMSAqIDYwIC8gKDUwICogd3BtKVxuICAgIC8vIFRoZSAzMSB1bml0cyBzaG91bGQgdGFrZSAzMSAqIDYwIC8gKDUwICogd3BtKSBzZWNvbmRzIGF0IHdwbVxuICAgIC8vIFwiUEFSSVMgXCIgc2hvdWxkIHRha2UgNTAgKiA2MCAvICg1MCAqIGZ3cG0pIHRvIHRyYW5zbWl0IGF0IGZ3cG0sIG9yIDYwIC8gZndwbSAgc2Vjb25kcyBhdCBmd3BtXG4gICAgLy8gS2VlcGluZyB0aGUgdGltZSBmb3IgdGhlIGNoYXJhY3RlcnMgY29uc3RhbnQsXG4gICAgLy8gVGhlIHNwYWNlcyBuZWVkIHRvIHRha2U6ICg2MCAvIGZ3cG0pIC0gWzMxICogNjAgLyAoNTAgKiB3cG0pXSBzZWNvbmRzIGluIHRvdGFsXG4gICAgLy8gVGhlIHNwYWNlcyBhcmUgNCBpbnRlci1jaGFyYWN0ZXIgc3BhY2VzIG9mIDMgdW5pdHMgYW5kIDEgaW50ZXItd29yZCBzcGFjZSBvZiA3IHVuaXRzLiBUaGVpciByYXRpbyBtdXN0IGJlIG1haW50YWluZWQuXG4gICAgLy8gQSBzcGFjZSB1bml0IGlzOiBbKDYwIC8gZndwbSkgLSBbMzEgKiA2MCAvICg1MCAqIHdwbSldXSAvIDE5IHNlY29uZHNcbiAgICAvLyBDb21wYXJpbmcgdGhhdCB0byA2MCAvICg1MCAqIHdwbSkgZ2l2ZXMgYSByYXRpbyBvZiAoNTAud3BtIC0gMzEuZndwbSkgLyAxOS5md3BtXG4gICAgcmV0dXJuIChESVRTX1BFUl9XT1JEICogd3BtIC0gKERJVFNfUEVSX1dPUkQgLSBTUEFDRVNfSU5fUEFSSVMpICogZndwbSkgLyAoU1BBQ0VTX0lOX1BBUklTICogZndwbSk7XG59XG5cbi8qKiBHZXQgdGhlIEZhcm5zd29ydGggV1BNIGZvciBhIGdpdmVuIFdQTSBhbmQgcmF0aW8gKi9cbmV4cG9ydCBmdW5jdGlvbiBmd3BtKHdwbSwgcikge1xuICAgIHJldHVybiBESVRTX1BFUl9XT1JEICogd3BtIC8gKFNQQUNFU19JTl9QQVJJUyAqIHIgKyAoRElUU19QRVJfV09SRCAtIFNQQUNFU19JTl9QQVJJUykpO1xufSIsIi8qIVxuVGhpcyBjb2RlIGlzIMKpIENvcHlyaWdodCBTdGVwaGVuIEMuIFBoaWxsaXBzLCAyMDE4LlxuRW1haWw6IHN0ZXZlQHNjcGhpbGxpcHMuY29tXG4qL1xuLypcbkxpY2Vuc2VkIHVuZGVyIHRoZSBFVVBMLCBWZXJzaW9uIDEuMiBvciDigJMgYXMgc29vbiB0aGV5IHdpbGwgYmUgYXBwcm92ZWQgYnkgdGhlIEV1cm9wZWFuIENvbW1pc3Npb24gLSBzdWJzZXF1ZW50IHZlcnNpb25zIG9mIHRoZSBFVVBMICh0aGUgXCJMaWNlbmNlXCIpO1xuWW91IG1heSBub3QgdXNlIHRoaXMgd29yayBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbmNlLlxuWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbmNlIGF0OiBodHRwczovL2pvaW51cC5lYy5ldXJvcGEuZXUvY29tbXVuaXR5L2V1cGwvXG5Vbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbmNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBiYXNpcywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG5TZWUgdGhlIExpY2VuY2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbmNlLlxuKi9cblxuLyoqXG4gKiBCYXNpYyBtZXRob2RzIHRvIHRyYW5zbGF0ZSBNb3JzZSBjb2RlLlxuICovXG5cbmlmICh0eXBlb2YoU3RyaW5nLnByb3RvdHlwZS50cmltKSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIFN0cmluZy5wcm90b3R5cGUudHJpbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gU3RyaW5nKHRoaXMpLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTtcbiAgICB9O1xufVxuXG52YXIgdGV4dDJtb3JzZUggPSB7XG4gICAgJ0EnOiBcIi4tXCIsXG4gICAgJ0InOiBcIi0uLi5cIixcbiAgICAnQyc6IFwiLS4tLlwiLFxuICAgICdEJzogXCItLi5cIixcbiAgICAnRSc6IFwiLlwiLFxuICAgICdGJzogXCIuLi0uXCIsXG4gICAgJ0cnOiBcIi0tLlwiLFxuICAgICdIJzogXCIuLi4uXCIsXG4gICAgJ0knOiBcIi4uXCIsXG4gICAgJ0onOiBcIi4tLS1cIixcbiAgICAnSyc6IFwiLS4tXCIsXG4gICAgJ0wnOiBcIi4tLi5cIixcbiAgICAnTSc6IFwiLS1cIixcbiAgICAnTic6IFwiLS5cIixcbiAgICAnTyc6IFwiLS0tXCIsXG4gICAgJ1AnOiBcIi4tLS5cIixcbiAgICAnUSc6IFwiLS0uLVwiLFxuICAgICdSJzogXCIuLS5cIixcbiAgICAnUyc6IFwiLi4uXCIsXG4gICAgJ1QnOiBcIi1cIixcbiAgICAnVSc6IFwiLi4tXCIsXG4gICAgJ1YnOiBcIi4uLi1cIixcbiAgICAnVyc6IFwiLi0tXCIsXG4gICAgJ1gnOiBcIi0uLi1cIixcbiAgICAnWSc6IFwiLS4tLVwiLFxuICAgICdaJzogXCItLS4uXCIsXG4gICAgJzEnOiBcIi4tLS0tXCIsXG4gICAgJzInOiBcIi4uLS0tXCIsXG4gICAgJzMnOiBcIi4uLi0tXCIsXG4gICAgJzQnOiBcIi4uLi4tXCIsXG4gICAgJzUnOiBcIi4uLi4uXCIsXG4gICAgJzYnOiBcIi0uLi4uXCIsXG4gICAgJzcnOiBcIi0tLi4uXCIsXG4gICAgJzgnOiBcIi0tLS4uXCIsXG4gICAgJzknOiBcIi0tLS0uXCIsXG4gICAgJzAnOiBcIi0tLS0tXCIsXG4gICAgJy4nOiBcIi4tLi0uLVwiLFxuICAgICcsJzogXCItLS4uLS1cIixcbiAgICAnOic6IFwiLS0tLi4uXCIsXG4gICAgJz8nOiBcIi4uLS0uLlwiLFxuICAgICdcXCcnOiBcIi4tLS0tLlwiLFxuICAgICctJzogXCItLi4uLi1cIixcbiAgICAnLyc6IFwiLS4uLS5cIixcbiAgICAnKCc6IFwiLS4tLS5cIixcbiAgICAnKSc6IFwiLS4tLS4tXCIsXG4gICAgJ1wiJzogXCIuLS4uLS5cIixcbiAgICAnQCc6IFwiLi0tLi0uXCIsXG4gICAgJz0nOiBcIi0uLi4tXCIsXG4gICAgJyYnOiBcIi4tLi4uXCIsXG4gICAgJysnOiBcIi4tLi0uXCIsXG4gICAgJyEnOiBcIi0uLS4tLVwiLFxuICAgICcgJzogXCIvXCIgLy9Ob3QgbW9yc2UgYnV0IGhlbHBzIHRyYW5zbGF0aW9uXG59O1xudmFyIG1vcnNlMnRleHRIID0ge307XG52YXIgcHJvc2lnbjJtb3JzZUggPSB7XG4gICAgJzxBQT4nOiAnLi0uLScsXG4gICAgJzxBUj4nOiAnLi0uLS4nLFxuICAgICc8QVM+JzogJy4tLi4uJyxcbiAgICAnPEJLPic6ICctLi4uLS4tJyxcbiAgICAnPEJUPic6ICctLi4uLScsIC8vIGFsc28gPFRWPlxuICAgICc8Q0w+JzogJy0uLS4uLS4uJyxcbiAgICAnPENUPic6ICctLi0uLScsXG4gICAgJzxETz4nOiAnLS4uLS0tJyxcbiAgICAnPEtOPic6ICctLi0tLicsXG4gICAgJzxTSz4nOiAnLi4uLS4tJywgLy8gYWxzbyA8VkE+XG4gICAgJzxWQT4nOiAnLi4uLS4tJyxcbiAgICAnPFNOPic6ICcuLi4tLicsIC8vIGFsc28gPFZFPlxuICAgICc8VkU+JzogJy4uLi0uJyxcbiAgICAnPFNPUz4nOiAnLi4uLS0tLi4uJ1xufTtcbnZhciBtb3JzZXBybzJ0ZXh0SCA9IHt9O1xudmFyIHRleHQybW9yc2Vwcm9IID0ge307XG5mb3IgKHZhciB0ZXh0IGluIHRleHQybW9yc2VIKSB7XG4gICAgdGV4dDJtb3JzZXByb0hbdGV4dF0gPSB0ZXh0Mm1vcnNlSFt0ZXh0XTtcbiAgICBtb3JzZTJ0ZXh0SFt0ZXh0Mm1vcnNlSFt0ZXh0XV0gPSB0ZXh0O1xuICAgIG1vcnNlcHJvMnRleHRIW3RleHQybW9yc2VIW3RleHRdXSA9IHRleHQ7XG59XG5mb3IgKHZhciBzaWduIGluIHByb3NpZ24ybW9yc2VIKSB7XG4gICAgdGV4dDJtb3JzZXByb0hbc2lnbl0gPSBwcm9zaWduMm1vcnNlSFtzaWduXTtcbiAgICBtb3JzZXBybzJ0ZXh0SFtwcm9zaWduMm1vcnNlSFtzaWduXV0gPSBzaWduO1xufVxuXG52YXIgdGlkeVRleHQgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgdGV4dCA9IHRleHQudG9VcHBlckNhc2UoKTtcbiAgICB0ZXh0ID0gdGV4dC50cmltKCk7XG4gICAgdGV4dCA9IHRleHQucmVwbGFjZSgvXFxzKy9nLCAnICcpO1xuICAgIHJldHVybiB0ZXh0O1xufTtcblxuLyoqXG4gKiBUcmFuc2xhdGUgdGV4dCB0byBtb3JzZSBpbiAnLi4tIC4uIC8gLS0nIGZvcm0uXG4gKiBJZiBzb21ldGhpbmcgaW4gdGhlIHRleHQgaXMgdW50cmFuc2xhdGFibGUgdGhlbiBpdCBpcyBzdXJyb3VuZGVkIGJ5IGhhc2gtc2lnbnMgKCcjJykgYW5kIGEgaGFzaCBpcyBwbGFjZWQgaW4gdGhlIG1vcnNlLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBhbHBoYW51bWVyaWMgbWVzc2FnZVxuICogQHBhcmFtIHtib29sZWFufSB1c2VQcm9zaWducyAtIHRydWUgaWYgcHJvc2lnbnMgYXJlIHRvIGJlIHVzZWQgKGRlZmF1bHQgaXMgdHJ1ZSlcbiAqIEByZXR1cm4ge3ttZXNzYWdlOiBzdHJpbmcsIG1vcnNlOiBzdHJpbmcsIGhhc0Vycm9yOiBib29sZWFufX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRleHQybW9yc2UodGV4dCwgdXNlUHJvc2lnbnMgPSB0cnVlKSB7XG4gICAgdGV4dCA9IHRpZHlUZXh0KHRleHQpO1xuICAgIHZhciByZXQgPSB7XG4gICAgICAgIG1vcnNlOiBcIlwiLFxuICAgICAgICBtZXNzYWdlOiBcIlwiLFxuICAgICAgICBoYXNFcnJvcjogZmFsc2VcbiAgICB9O1xuICAgIGlmICh0ZXh0ID09PSBcIlwiKSB7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgdmFyIHRva2VucyA9IFtdO1xuICAgIHZhciBwcm9zaWduO1xuICAgIHZhciB0b2tlbl9sZW5ndGg7XG4gICAgd2hpbGUgKHRleHQubGVuZ3RoID4gMCkge1xuICAgICAgICB0b2tlbl9sZW5ndGggPSAxO1xuICAgICAgICBpZiAodXNlUHJvc2lnbnMpIHtcbiAgICAgICAgICAgIHByb3NpZ24gPSB0ZXh0Lm1hdGNoKC9ePC4uLj8+Lyk7IC8vIGFycmF5IG9mIG1hdGNoZXNcbiAgICAgICAgICAgIGlmIChwcm9zaWduKSB7XG4gICAgICAgICAgICAgICAgdG9rZW5fbGVuZ3RoID0gcHJvc2lnblswXS5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdG9rZW5zLnB1c2godGV4dC5zbGljZSgwLCB0b2tlbl9sZW5ndGgpKTtcbiAgICAgICAgdGV4dCA9IHRleHQuc2xpY2UodG9rZW5fbGVuZ3RoLCB0ZXh0Lmxlbmd0aCk7XG4gICAgfVxuICAgIHZhciBkaWN0O1xuICAgIGlmICh1c2VQcm9zaWducykge1xuICAgICAgICBkaWN0ID0gdGV4dDJtb3JzZXByb0g7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZGljdCA9IHRleHQybW9yc2VIO1xuICAgIH1cbiAgICB2YXIgaSwgYywgdDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHQgPSB0b2tlbnNbaV07XG4gICAgICAgIGMgPSBkaWN0W3RdO1xuICAgICAgICBpZiAoYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXQubWVzc2FnZSArPSBcIiNcIiArIHQgKyBcIiNcIjtcbiAgICAgICAgICAgIHJldC5tb3JzZSArPSBcIiMgXCI7XG4gICAgICAgICAgICByZXQuaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0Lm1lc3NhZ2UgKz0gdDtcbiAgICAgICAgICAgIHJldC5tb3JzZSArPSBjICsgXCIgXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0Lm1vcnNlID0gcmV0Lm1vcnNlLnNsaWNlKDAsIHJldC5tb3JzZS5sZW5ndGggLSAxKTtcbiAgICByZXR1cm4gcmV0O1xufVxuXG4vKipcbiAqIFRyYW5zbGF0ZSB0ZXh0IHRvIG1vcnNlIGluICdEaS1kaS1kYWggZGFoJyBmb3JtLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBhbHBoYW51bWVyaWMgbWVzc2FnZVxuICogQHBhcmFtIHtib29sZWFufSB1c2VQcm9zaWducyAtIHRydWUgaWYgcHJvc2lnbnMgYXJlIHRvIGJlIHVzZWQgKGRlZmF1bHQgaXMgdHJ1ZSlcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRleHQyZGl0ZGFoKHRleHQsIHVzZVByb3NpZ25zKSB7XG4gICAgLy8gVE9ETzogZGVhbCB3aXRoIGVycm9ycyBpbiB0aGUgdHJhbnNsYXRpb25cbiAgICB2YXIgZGl0ZGFoID0gdGV4dDJtb3JzZSh0ZXh0LCB1c2VQcm9zaWducykubW9yc2UgKyAnICc7IC8vIGdldCB0aGUgZG90cyBhbmQgZGFzaGVzXG4gICAgZGl0ZGFoID0gZGl0ZGFoLnJlcGxhY2UoL1xcLi9nLCAnZGl+JykucmVwbGFjZSgvXFwtL2csICdkYWh+Jyk7IC8vIGRvIHRoZSBiYXNpYyBqb2JcbiAgICBkaXRkYWggPSBkaXRkYWgucmVwbGFjZSgvfi9nLCAnLScpOyAvLyByZXBsYWNlIHBsYWNlaG9sZGVyIHdpdGggZGFzaFxuICAgIGRpdGRhaCA9IGRpdGRhaC5yZXBsYWNlKC9cXC0gL2csICcgJyk7IC8vIHJlbW92ZSB0cmFpbGluZyBkYXNoZXNcbiAgICBkaXRkYWggPSBkaXRkYWgucmVwbGFjZSgvZGkgL2csICdkaXQgJyk7IC8vIHVzZSAnZGl0JyBhdCBlbmQgb2YgbGV0dGVyXG4gICAgZGl0ZGFoID0gZGl0ZGFoLnJlcGxhY2UoLyBcXC8gL2csICcsICcpOyAvLyBkbyBwdW5jdHVhdGlvblxuICAgIGRpdGRhaCA9IGRpdGRhaC5yZXBsYWNlKC9eZC8sICdEJyk7IC8vIGRvIGNhcGl0YWxpc2F0aW9uXG4gICAgZGl0ZGFoID0gZGl0ZGFoLnJlcGxhY2UoLyAkLywgJycpOyAvLyByZW1vdmUgdGhlIHNwYWNlIHdlIGFkZGVkXG4gICAgZGl0ZGFoID0gZGl0ZGFoLnJlcGxhY2UoLyhbdGhdKSQvLCAnJDEuJyk7IC8vIGFkZCBmdWxsLXN0b3AgaWYgdGhlcmUgaXMgYW55dGhpbmcgdGhlcmVcbiAgICByZXR1cm4gZGl0ZGFoO1xufVxuXG4vKipcbiAqIENhbm9uaWNhbGlzZSBtb3JzZSB0ZXh0LlxuICogQ2Fub25pY2FsIGZvcm0gbWF0Y2hlcyBbLi0vIF0qLCBoYXMgc2luZ2xlIHNwYWNlcyBiZXR3ZWVuIGNoYXJhY3RlcnMsIGhhcyB3b3JkcyBzZXBhcmF0ZWQgYnkgJyAvICcsIGFuZCBoYXMgbm8gc3BhY2VzIGF0IHRoZSBzdGFydCBvciBlbmQuXG4gKiBBIHNpbmdsZSAnLycgbWF5IGJlIHJldHVybmVkIGJ5IHRoaXMgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9yc2UgLSBNb3JzZSBjb2RlIG1hdGNoaW5nIFsuLV8vfCBdKlxuICogQHJldHVybiB7c3RyaW5nfSBNb3JzZSBjb2RlIGluIGNhbm9uaWNhbCBmb3JtIG1hdGNoaW5nIFsuLS8gXSpcbiAqL1xudmFyIHRpZHlNb3JzZSA9IGZ1bmN0aW9uKG1vcnNlKSB7XG4gICAgbW9yc2UgPSBtb3JzZS5yZXBsYWNlKC9cXHwvZywgXCIvXCIpOyAvLyB1bmlmeSB0aGUgd29yZCBzZXBhcmF0b3JcbiAgICBtb3JzZSA9IG1vcnNlLnJlcGxhY2UoL1xcLy9nLCBcIiAvIFwiKTsgLy8gbWFrZSBzdXJlIHdvcmQgc2VwYXJhdG9ycyBhcmUgc3BhY2VkIG91dFxuICAgIG1vcnNlID0gbW9yc2UucmVwbGFjZSgvXFxzKy9nLCBcIiBcIik7IC8vIHNxdWFzaCBtdWx0aXBsZSBzcGFjZXMgaW50byBzaW5nbGUgc3BhY2VzXG4gICAgbW9yc2UgPSBtb3JzZS5yZXBsYWNlKC8oXFwvICkrXFwvL2csIFwiL1wiKTsgLy8gc3F1YXNoIG11bHRpcGxlIHdvcmQgc2VwYXJhdG9yc1xuICAgIG1vcnNlID0gbW9yc2UucmVwbGFjZSgvXy9nLCBcIi1cIik7IC8vIHVuaWZ5IHRoZSBkYXNoIGNoYXJhY3RlclxuICAgIG1vcnNlID0gbW9yc2UucmVwbGFjZSgvXlxccysvLCBcIlwiKTsgIC8vIHJlbW92ZSBpbml0aWFsIHdoaXRlc3BhY2VcbiAgICBtb3JzZSA9IG1vcnNlLnJlcGxhY2UoL1xccyskLywgXCJcIik7ICAvLyByZW1vdmUgdHJhaWxpbmcgd2hpdGVzcGFjZVxuICAgIHJldHVybiBtb3JzZTtcbn07XG5cbi8qKlxuICogVHJhbnNsYXRlIG1vcnNlIHRvIHRleHQuIENhbm9uaWNhbGlzZSB0aGUgbW9yc2UgZmlyc3QuXG4gKiBJZiBzb21ldGhpbmcgaW4gdGhlIG1vcnNlIGlzIHVudHJhbnNsYXRhYmxlIHRoZW4gaXQgaXMgc3Vycm91bmRlZCBieSBoYXNoLXNpZ25zICgnIycpIGFuZCBhIGhhc2ggaXMgcGxhY2VkIGluIHRoZSB0ZXh0LlxuICogQHBhcmFtIHtzdHJpbmd9IG1vcnNlIC0gbW9yc2UgbWVzc2FnZSB1c2luZyBbLi1fL3wgXSBjaGFyYWN0ZXJzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHVzZVByb3NpZ25zIC0gdHJ1ZSBpZiBwcm9zaWducyBhcmUgdG8gYmUgdXNlZCAoZGVmYXVsdCBpcyB0cnVlKVxuICogQHJldHVybiB7e21lc3NhZ2U6IHN0cmluZywgbW9yc2U6IHN0cmluZywgaGFzRXJyb3I6IGJvb2xlYW59fVxuICovXG5leHBvcnQgZnVuY3Rpb24gbW9yc2UydGV4dChtb3JzZSwgdXNlUHJvc2lnbnMgPSB0cnVlKSB7XG4gICAgbW9yc2UgPSB0aWR5TW9yc2UobW9yc2UpO1xuICAgIHZhciByZXQgPSB7XG4gICAgICAgIG1vcnNlOiBcIlwiLFxuICAgICAgICBtZXNzYWdlOiBcIlwiLFxuICAgICAgICBoYXNFcnJvcjogZmFsc2VcbiAgICB9O1xuICAgIGlmIChtb3JzZSA9PT0gXCJcIikge1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cblxuICAgIHZhciB0b2tlbnMgPSBtb3JzZS5zcGxpdChcIiBcIik7XG4gICAgdmFyIGRpY3Q7XG4gICAgaWYgKHVzZVByb3NpZ25zKSB7XG4gICAgICAgIGRpY3QgPSBtb3JzZXBybzJ0ZXh0SDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBkaWN0ID0gbW9yc2UydGV4dEg7XG4gICAgfVxuICAgIHZhciBjLCB0O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHQgPSB0b2tlbnNbaV07XG4gICAgICAgIGMgPSBkaWN0W3RdO1xuICAgICAgICBpZiAoYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXQubW9yc2UgKz0gXCIjXCIgKyB0ICsgXCIjIFwiO1xuICAgICAgICAgICAgcmV0Lm1lc3NhZ2UgKz0gXCIjXCI7XG4gICAgICAgICAgICByZXQuaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0Lm1vcnNlICs9IHQgKyBcIiBcIjtcbiAgICAgICAgICAgIHJldC5tZXNzYWdlICs9IGM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0Lm1vcnNlID0gcmV0Lm1vcnNlLnNsaWNlKDAsIHJldC5tb3JzZS5sZW5ndGggLSAxKTtcbiAgICByZXR1cm4gcmV0O1xufVxuXG4vKipcbiAqIERldGVybWluZSB3aGV0aGVyIGEgc3RyaW5nIGlzIG1vc3QgbGlrZWx5IG1vcnNlIGNvZGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gaW5wdXQgLSB0aGUgdGV4dFxuICogQHJldHVybiB7Ym9vbGVhbn0gLSB0cnVlIGlmIHRoZSBzdHJpbmcgb25seSBoYXMgTW9yc2UgY2hhcmFjdGVycyBpbiBhZnRlciBleGVjdXRpbmcgdGlkeU1vcnNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb29rc0xpa2VNb3JzZShpbnB1dCkge1xuICAgIGlucHV0ID0gdGlkeU1vcnNlKGlucHV0KTtcbiAgICByZXR1cm4gKGlucHV0Lm1hdGNoKC9eWy8uLV1bIC8uLV0qJC8pICE9PSBudWxsKTtcbn1cbiIsIi8qIVxuVGhpcyBjb2RlIGlzIMKpIENvcHlyaWdodCBTdGVwaGVuIEMuIFBoaWxsaXBzLCAyMDE4LlxuRW1haWw6IHN0ZXZlQHNjcGhpbGxpcHMuY29tXG4qL1xuLypcbkxpY2Vuc2VkIHVuZGVyIHRoZSBFVVBMLCBWZXJzaW9uIDEuMiBvciDigJMgYXMgc29vbiB0aGV5IHdpbGwgYmUgYXBwcm92ZWQgYnkgdGhlIEV1cm9wZWFuIENvbW1pc3Npb24gLSBzdWJzZXF1ZW50IHZlcnNpb25zIG9mIHRoZSBFVVBMICh0aGUgXCJMaWNlbmNlXCIpO1xuWW91IG1heSBub3QgdXNlIHRoaXMgd29yayBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbmNlLlxuWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbmNlIGF0OiBodHRwczovL2pvaW51cC5lYy5ldXJvcGEuZXUvY29tbXVuaXR5L2V1cGwvXG5Vbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbmNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBiYXNpcywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG5TZWUgdGhlIExpY2VuY2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbmNlLlxuKi9cblxuaW1wb3J0ICogYXMgTW9yc2UgZnJvbSAnLi9tb3JzZS1wcm8nO1xuXG4vKipcbiAqIENsYXNzIGZvciBjb252ZW5pZW50bHkgdHJhbnNsYXRpbmcgdG8gYW5kIGZyb20gTW9yc2UgY29kZS5cbiAqIERlYWxzIHdpdGggZXJyb3IgaGFuZGxpbmcuXG4gKiBXb3JrcyBvdXQgaWYgdGhlIGlucHV0IGlzIE1vcnNlIGNvZGUgb3Igbm90LlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgTW9yc2VNZXNzYWdlIGZyb20gJ21vcnNlLXByby1tZXNzYWdlJztcbiAqIHZhciBtb3JzZU1lc3NhZ2UgPSBuZXcgTW9yc2VNZXNzYWdlKCk7XG4gKiB2YXIgaW5wdXQ7XG4gKiB2YXIgb3V0cHV0O1xuICogdHJ5IHtcbiAqICAgICBvdXRwdXQgPSBtb3JzZU1lc3NhZ2UudHJhbnNsYXRlKFwiYWJjXCIpO1xuICogY2F0Y2ggKGV4KSB7XG4gKiAgICAgLy8gaW5wdXQgd2lsbCBoYXZlIGVycm9ycyBzdXJyb3VuZGVkIGJ5IHBhaXJlZCAnIycgc2lnbnNcbiAqICAgICAvLyBvdXRwdXQgd2lsbCBiZSBiZXN0IGF0dGVtcHQgYXQgdHJhbnNsYXRpb24sIHdpdGggdW50cmFuc2xhdGFibGVzIHJlcGxhY2VkIHdpdGggJyMnXG4gKiAgICAgbW9yc2VNZXNzYWdlLmNsZWFyRXJyb3IoKTsgIC8vIHJlbW92ZSBhbGwgdGhlICcjJ1xuICogfVxuICogaWYgKG1vcnNlTWVzc2FnZS5pbnB1dFdhc01vcnNlKSB7XG4gKiAgICAgLy8gZG8gc29tZXRoaW5nXG4gKiB9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vcnNlTWVzc2FnZSB7XG4gICAgdXNlUHJvc2lnbnM6IGJvb2xlYW47XG4gICAgaW5wdXQ6IHN0cmluZztcbiAgICBvdXRwdXQ6IHN0cmluZztcbiAgICBtb3JzZTogc3RyaW5nO1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBpbnB1dFdhc01vcnNlOiBhbnk7XG4gICAgaGFzRXJyb3I6IGFueTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9zaWducz10cnVlXSAtIHdoZXRoZXIgb3Igbm90IHRvIGluY2x1ZGUgcHJvc2lnbnMgaW4gdGhlIHRyYW5zbGF0aW9uc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHVzZVByb3NpZ25zID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLnVzZVByb3NpZ25zID0gdXNlUHJvc2lnbnM7XG4gICAgICAgIHRoaXMuaW5wdXQgPSBcIlwiO1xuICAgICAgICB0aGlzLm91dHB1dCA9IFwiXCI7XG4gICAgICAgIHRoaXMubW9yc2UgPSBcIlwiO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBcIlwiO1xuICAgICAgICB0aGlzLmlucHV0V2FzTW9yc2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaGFzRXJyb3IgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlucHV0IC0gYWxwaGFudW1lcmljIHRleHQgb3IgbW9yc2UgY29kZSB0byB0cmFuc2xhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzTW9yc2UgLSB3aGV0aGVyIHRoZSBpbnB1dCBpcyBNb3JzZSBjb2RlIG9yIG5vdCAoaWYgbm90IHNldCB0aGVuIHRoZSBsb29rc0xpa2VNb3JzZSBtZXRob2Qgd2lsbCBiZSB1c2VkKVxuICAgICAqL1xuICAgIHRyYW5zbGF0ZShpbnB1dCwgaXNNb3JzZT8pIHtcbiAgICAgICAgdmFyIHRyYW5zbGF0aW9uO1xuXG4gICAgICAgIGlmICh0eXBlb2YgaXNNb3JzZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgLy8gbWFrZSBhIGd1ZXNzOiBjb3VsZCBiZSB3cm9uZyBpZiBzb21lb25lIHdhbnRzIHRvIHRyYW5zbGF0ZSBcIi5cIiBpbnRvIE1vcnNlIGZvciBpbnN0YW5jZVxuICAgICAgICAgICAgaXNNb3JzZSA9IE1vcnNlLmxvb2tzTGlrZU1vcnNlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNNb3JzZSkge1xuICAgICAgICAgICAgdGhpcy5pbnB1dFdhc01vcnNlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uID0gTW9yc2UubW9yc2UydGV4dChpbnB1dCwgdGhpcy51c2VQcm9zaWducyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlucHV0V2FzTW9yc2UgPSBmYWxzZTtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uID0gTW9yc2UudGV4dDJtb3JzZShpbnB1dCwgdGhpcy51c2VQcm9zaWducyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1vcnNlID0gdHJhbnNsYXRpb24ubW9yc2U7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IHRyYW5zbGF0aW9uLm1lc3NhZ2U7XG5cbiAgICAgICAgaWYgKHRoaXMuaW5wdXRXYXNNb3JzZSkge1xuICAgICAgICAgICAgdGhpcy5pbnB1dCA9IHRoaXMubW9yc2U7XG4gICAgICAgICAgICB0aGlzLm91dHB1dCA9IHRoaXMubWVzc2FnZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaW5wdXQgPSB0aGlzLm1lc3NhZ2U7XG4gICAgICAgICAgICB0aGlzLm91dHB1dCA9IHRoaXMubW9yc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmhhc0Vycm9yID0gdHJhbnNsYXRpb24uaGFzRXJyb3I7XG4gICAgICAgIGlmICh0aGlzLmhhc0Vycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBpbiBpbnB1dFwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5vdXRwdXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgYWxsIHRoZSBlcnJvcnMgZnJvbSB0aGUgbW9yc2UgYW5kIG1lc3NhZ2UuIFVzZWZ1bCBpZiB5b3Ugd2FudCB0byBwbGF5IHRoZSBzb3VuZCBldmVuIHRob3VnaCBpdCBkaWRuJ3QgdHJhbnNsYXRlLlxuICAgICAqL1xuICAgIGNsZWFyRXJyb3IoKSB7XG4gICAgICAgIGlmICh0aGlzLmlucHV0V2FzTW9yc2UpIHtcbiAgICAgICAgICAgIHRoaXMubW9yc2UgPSB0aGlzLm1vcnNlLnJlcGxhY2UoLyMvZywgXCJcIik7ICAvLyBsZWF2ZSBpbiB0aGUgYmFkIE1vcnNlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2UucmVwbGFjZSgvI1teI10qPyMvZywgXCJcIik7XG4gICAgICAgICAgICB0aGlzLm1vcnNlID0gdGhpcy5tb3JzZS5yZXBsYWNlKC8jL2csIFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGFzRXJyb3IgPSBmYWxzZTtcbiAgICB9XG59XG4iLCIvKiFcblRoaXMgY29kZSBpcyDCqSBDb3B5cmlnaHQgU3RlcGhlbiBDLiBQaGlsbGlwcywgMjAxOC5cbkVtYWlsOiBzdGV2ZUBzY3BoaWxsaXBzLmNvbVxuKi9cbi8qXG5MaWNlbnNlZCB1bmRlciB0aGUgRVVQTCwgVmVyc2lvbiAxLjIgb3Ig4oCTIGFzIHNvb24gdGhleSB3aWxsIGJlIGFwcHJvdmVkIGJ5IHRoZSBFdXJvcGVhbiBDb21taXNzaW9uIC0gc3Vic2VxdWVudCB2ZXJzaW9ucyBvZiB0aGUgRVVQTCAodGhlIFwiTGljZW5jZVwiKTtcbllvdSBtYXkgbm90IHVzZSB0aGlzIHdvcmsgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5jZS5cbllvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5jZSBhdDogaHR0cHM6Ly9qb2ludXAuZWMuZXVyb3BhLmV1L2NvbW11bml0eS9ldXBsL1xuVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5jZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgYmFzaXMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuU2VlIHRoZSBMaWNlbmNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5jZS5cbiovXG5cbmltcG9ydCAqIGFzIFdQTSBmcm9tICcuL21vcnNlLXByby13cG0nO1xuaW1wb3J0IE1vcnNlTWVzc2FnZSBmcm9tICcuL21vcnNlLXByby1tZXNzYWdlJztcblxuLyoqXG4gKiBDbGFzcyB0byBjcmVhdGUgdGhlIG9uL29mZiB0aW1pbmdzIG5lZWRlZCBieSBlLmcuIHNvdW5kIGdlbmVyYXRvcnMuIFRpbWluZ3MgYXJlIGluIG1pbGxpc2Vjb25kczsgXCJvZmZcIiB0aW1pbmdzIGFyZSBuZWdhdGl2ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IE1vcnNlQ1cgZnJvbSAnbW9yc2UtcHJvLWN3JztcbiAqIHZhciBtb3JzZUNXID0gbmV3IE1vcnNlQ1coKTtcbiAqIG1vcnNlQ1cudHJhbnNsYXRlKFwiYWJjXCIpO1xuICogdmFyIHRpbWluZ3MgPSBtb3JzZUNXLmdldFRpbWluZ3MoKTtcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9yc2VDVyBleHRlbmRzIE1vcnNlTWVzc2FnZSB7XG4gICAgX3dwbTogYW55O1xuICAgIF9md3BtOiBhbnk7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvc2lnbnM9dHJ1ZV0gLSB3aGV0aGVyIG9yIG5vdCB0byBpbmNsdWRlIHByb3NpZ25zIGluIHRoZSB0cmFuc2xhdGlvbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dwbT0yMF0gLSB0aGUgc3BlZWQgaW4gd29yZHMgcGVyIG1pbnV0ZSB1c2luZyBQQVJJUyBhcyB0aGUgc3RhbmRhcmQgd29yZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZndwbT13cG1dIC0gdGhlIEZhcm5zd29ydGggc3BlZWQgaW4gd29yZHMgcGVyIG1pbnV0ZSAoZGVmYXVsdHMgdG8gd3BtKVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHVzZVByb3NpZ25zID0gdHJ1ZSwgd3BtID0gMjAsIGZ3cG0gPSB3cG0pIHtcbiAgICAgICAgc3VwZXIodXNlUHJvc2lnbnMpO1xuICAgICAgICAvKiogQHR5cGUge251bWJlcn0gKi9cbiAgICAgICAgdGhpcy53cG0gPSB3cG07XG4gICAgICAgIC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xuICAgICAgICB0aGlzLmZ3cG0gPSBmd3BtO1xuICAgIH1cblxuICAgIC8qKiBcbiAgICAgKiBTZXQgdGhlIFdQTSBzcGVlZC4gRW5zdXJlcyB0aGF0IEZhcm5zd29ydGggV1BNIGlzIG5vIGZhc3RlciB0aGFuIFdQTS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfSAqL1xuICAgIHNldCB3cG0od3BtKSB7XG4gICAgICAgIHRoaXMuX3dwbSA9IHdwbTtcbiAgICAgICAgaWYgKHdwbSA8IHRoaXMuX2Z3cG0pIHtcbiAgICAgICAgICAgIHRoaXMuX2Z3cG0gPSB3cG07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogQHR5cGUge251bWJlcn0gKi9cbiAgICBnZXQgd3BtKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd3BtO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgRmFybnN3b3J0aCBXUE0gc3BlZWQuIEVuc3VyZXMgdGhhdCBXUE0gaXMgbm8gc2xvd2VyIHRoYW4gRmFybnN3b3J0aCBXUE0uXG4gICAgICogIEB0eXBlIHtudW1iZXJ9ICovXG4gICAgc2V0IGZ3cG0oZndwbSkge1xuICAgICAgICB0aGlzLl9md3BtID0gZndwbTtcbiAgICAgICAgaWYgKGZ3cG0gPiB0aGlzLl93cG0pIHtcbiAgICAgICAgICAgIHRoaXMuX3dwbSA9IGZ3cG07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogQHR5cGUge251bWJlcn0gKi9cbiAgICBnZXQgZndwbSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Z3cG07XG4gICAgfVxuXG4gICAgLyoqIFxuICAgICAqIEdldCB0aGUgbGVuZ3RoIG9mIHRoZSBzcGFjZSBiZXR3ZWVuIHdvcmRzIGluIG1zLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9ICovXG4gICAgZ2V0IHdvcmRTcGFjZSgpIHtcbiAgICAgICAgcmV0dXJuIFdQTS53b3JkU3BhY2UodGhpcy5fd3BtLCB0aGlzLl9md3BtKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYW4gYXJyYXkgb2YgbWlsbGlzZWNvbmQgdGltaW5ncy5cbiAgICAgKiBXaXRoIHRoZSBGYXJuc3dvcnRoIG1ldGhvZCwgdGhlIG1vcnNlIGNoYXJhY3RlcnMgYXJlIHBsYXllZCBhdCBvbmVcbiAgICAgKiBzcGVlZCBhbmQgdGhlIHNwYWNlcyBiZXR3ZWVuIGNoYXJhY3RlcnMgYXQgYSBzbG93ZXIgc3BlZWQuXG4gICAgICogQHJldHVybiB7bnVtYmVyW119XG4gICAgICovXG4gICAgZ2V0VGltaW5ncygpIHtcbiAgICAgICAgcmV0dXJuIE1vcnNlQ1cuZ2V0VGltaW5nc0dlbmVyYWwoXG4gICAgICAgICAgICBXUE0uZGl0TGVuZ3RoKHRoaXMuX3dwbSksXG4gICAgICAgICAgICBXUE0uZGFoTGVuZ3RoKHRoaXMuX3dwbSksXG4gICAgICAgICAgICBXUE0uZGl0U3BhY2UodGhpcy5fd3BtKSxcbiAgICAgICAgICAgIFdQTS5jaGFyU3BhY2UodGhpcy5fd3BtLCB0aGlzLl9md3BtKSxcbiAgICAgICAgICAgIFdQTS53b3JkU3BhY2UodGhpcy5fd3BtLCB0aGlzLl9md3BtKSxcbiAgICAgICAgICAgIHRoaXMubW9yc2VcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYW4gYXJyYXkgb2YgbWlsbGlzZWNvbmQgdGltaW5ncy5cbiAgICAgKiBFYWNoIHNvdW5kIGFuZCBzcGFjZSBoYXMgYSBkdXJhdGlvbi4gVGhlIGR1cmF0aW9ucyBvZiB0aGUgc3BhY2VzIGFyZSBkaXN0aW5ndWlzaGVkIGJ5IGJlaW5nIG5lZ2F0aXZlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXQgLSB0aGUgbGVuZ3RoIG9mIGEgZGl0IGluIG1pbGxpc2Vjb25kc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkYWggLSB0aGUgbGVuZ3RoIG9mIGEgZGFoIGluIG1pbGxpc2Vjb25kcyAobm9ybWFsbHkgMyAqIGRpdClcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGl0U3BhY2UgLSB0aGUgbGVuZ3RoIG9mIGFuIGludHJhLWNoYXJhY3RlciBzcGFjZSBpbiBtaWxsaXNlY29uZHMgKDEgKiBkaXQpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNoYXJTcGFjZSAtIHRoZSBsZW5ndGggb2YgYW4gaW50ZXItY2hhcmFjdGVyIHNwYWNlIGluIG1pbGxpc2Vjb25kcyAobm9ybWFsbHkgMyAqIGRpdClcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd29yZFNwYWNlIC0gdGhlIGxlbmd0aCBvZiBhbiBpbnRlci13b3JkIHNwYWNlIGluIG1pbGxpc2Vjb25kcyAobm9ybWFsbHkgNyAqIGRpdClcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbW9yc2UgLSB0aGUgKGNhbm9uaWNhbCkgbW9yc2UgY29kZSBzdHJpbmcgKG1hdGNoaW5nIFsuLS8gXSopXG4gICAgICogQHJldHVybiB7bnVtYmVyW119XG4gICAgICovXG4gICAgc3RhdGljIGdldFRpbWluZ3NHZW5lcmFsKGRpdCwgZGFoLCBkaXRTcGFjZSwgY2hhclNwYWNlLCB3b3JkU3BhY2UsIG1vcnNlKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJNb3JzZTogXCIgKyBtb3JzZSk7XG4gICAgICAgIG1vcnNlID0gbW9yc2UucmVwbGFjZSgvIFxcLyAvZywgJy8nKTsgIC8vIHRoaXMgbWVhbnMgdGhhdCBhIHNwYWNlIGlzIG9ubHkgdXNlZCBmb3IgaW50ZXItY2hhcmFjdGVyXG4gICAgICAgIG1vcnNlID0gbW9yc2UucmVwbGFjZSgvKFtcXC5cXC1dKSg/PVtcXC5cXC1dKS9nLCBcIiQxK1wiKTsgIC8vIHB1dCBhICsgaW4gYmV0d2VlbiBhbGwgZGl0cyBhbmQgZGFoc1xuICAgICAgICB2YXIgdGltZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtb3JzZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgc3dpdGNoIChtb3JzZVtpXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJy4nOlxuICAgICAgICAgICAgICAgICAgICB0aW1lcy5wdXNoKGRpdCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJy0nOlxuICAgICAgICAgICAgICAgICAgICB0aW1lcy5wdXNoKGRhaCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJysnOlxuICAgICAgICAgICAgICAgICAgICB0aW1lcy5wdXNoKC1kaXRTcGFjZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCIgXCI6XG4gICAgICAgICAgICAgICAgICAgIHRpbWVzLnB1c2goLWNoYXJTcGFjZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCIvXCI6XG4gICAgICAgICAgICAgICAgICAgIHRpbWVzLnB1c2goLXdvcmRTcGFjZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJUaW1pbmdzOiBcIiArIHRpbWVzKTtcbiAgICAgICAgcmV0dXJuIHRpbWVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdG90YWwgZHVyYXRpb24gb2YgdGhlIG1lc3NhZ2UgaW4gbXNcbiAgICAgOCBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0RHVyYXRpb24oKSB7XG4gICAgICAgIHZhciB0aW1lcyA9IHRoaXMuZ2V0VGltaW5ncygpO1xuICAgICAgICB2YXIgdCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGltZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHQgKz0gTWF0aC5hYnModGltZXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH1cbn1cbiIsIlwidXNlIHN0cmljdFwiO1xyXG4vKiFcclxuVGhpcyBjb2RlIGlzIMKpIENvcHlyaWdodCBTdGVwaGVuIEMuIFBoaWxsaXBzLCAyMDE4LlxyXG5FbWFpbDogc3RldmVAc2NwaGlsbGlwcy5jb21cclxuKi9cclxuLypcclxuTGljZW5zZWQgdW5kZXIgdGhlIEVVUEwsIFZlcnNpb24gMS4yIG9yIOKAkyBhcyBzb29uIHRoZXkgd2lsbCBiZSBhcHByb3ZlZCBieSB0aGUgRXVyb3BlYW4gQ29tbWlzc2lvbiAtIHN1YnNlcXVlbnQgdmVyc2lvbnMgb2YgdGhlIEVVUEwgKHRoZSBcIkxpY2VuY2VcIik7XHJcbllvdSBtYXkgbm90IHVzZSB0aGlzIHdvcmsgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5jZS5cclxuWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbmNlIGF0OiBodHRwczovL2pvaW51cC5lYy5ldXJvcGEuZXUvY29tbXVuaXR5L2V1cGwvXHJcblVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2VuY2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuU2VlIHRoZSBMaWNlbmNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5jZS5cclxuKi9cclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIG1vcnNlX3Byb19jd18xID0gcmVxdWlyZShcIi4vbW9yc2UtcHJvLWN3XCIpO1xyXG4vKipcclxuICogQ2xhc3MgdG8gY3JlYXRlIHNpbmUtd2F2ZSBzYW1wbGVzIG9mIHN0YW5kYXJkIENXIE1vcnNlLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpbXBvcnQgTW9yc2VDV1dhdmUgZnJvbSAnbW9yc2UtcHJvLWN3LXdhdmUnO1xyXG4gKiB2YXIgbW9yc2VDV1dhdmUgPSBuZXcgTW9yc2VDV1dhdmUoKTtcclxuICogbW9yc2VDV1dhdmUudHJhbnNsYXRlKFwiYWJjXCIpO1xyXG4gKiB2YXIgc2FtcGxlID0gbW9yc2VDV1dhdmUuZ2V0U2FtcGxlKCk7XHJcbiAqL1xyXG52YXIgTW9yc2VDV1dhdmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoTW9yc2VDV1dhdmUsIF9zdXBlcik7XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJlcXVlbmN5PTU1MF0gLSBmcmVxdWVuY3kgb2Ygd2F2ZSBpbiBIelxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzYW1wbGVSYXRlPTgwMDBdIC0gc2FtcGxlIHJhdGUgZm9yIHRoZSB3YXZlZm9ybSBpbiBIelxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBNb3JzZUNXV2F2ZSh1c2VQcm9zaWducywgd3BtLCBmd3BtLCBmcmVxdWVuY3ksIHNhbXBsZVJhdGUpIHtcclxuICAgICAgICBpZiAodXNlUHJvc2lnbnMgPT09IHZvaWQgMCkgeyB1c2VQcm9zaWducyA9IHRydWU7IH1cclxuICAgICAgICBpZiAod3BtID09PSB2b2lkIDApIHsgd3BtID0gMjA7IH1cclxuICAgICAgICBpZiAoZndwbSA9PT0gdm9pZCAwKSB7IGZ3cG0gPSAyMDsgfVxyXG4gICAgICAgIGlmIChmcmVxdWVuY3kgPT09IHZvaWQgMCkgeyBmcmVxdWVuY3kgPSA1NTA7IH1cclxuICAgICAgICBpZiAoc2FtcGxlUmF0ZSA9PT0gdm9pZCAwKSB7IHNhbXBsZVJhdGUgPSA4MDAwOyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdXNlUHJvc2lnbnMsIHdwbSwgZndwbSkgfHwgdGhpcztcclxuICAgICAgICAvKiogQHR5cGUge251bWJlcn0gKi9cclxuICAgICAgICBfdGhpcy5mcmVxdWVuY3kgPSBmcmVxdWVuY3k7IC8vIGZyZXF1ZW5jeSBvZiB3YXZlIGluIEh6XHJcbiAgICAgICAgLyoqIEB0eXBlIHtudW1iZXJ9ICovXHJcbiAgICAgICAgX3RoaXMuc2FtcGxlUmF0ZSA9IHNhbXBsZVJhdGU7IC8vIHNhbXBsZSByYXRlIGZvciB0aGUgd2F2ZWZvcm0gaW4gSHpcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCBhIHNhbXBsZSB3YXZlZm9ybSwgbm90IHVzaW5nIFdlYiBBdWRpbyBBUEkgKHN5bmNocm9ub3VzKS5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kUGFkZGluZz0wXSAtIGhvdyBtdWNoIHNpbGVuY2UgaW4gbXMgdG8gYWRkIHRvIHRoZSBlbmQgb2YgdGhlIHdhdmVmb3JtLlxyXG4gICAgICogQHJldHVybiB7bnVtYmVyW119IGFuIGFycmF5IG9mIGZsb2F0cyBpbiByYW5nZSBbLTEsIDFdIHJlcHJlc2VudGluZyB0aGUgd2F2ZS1mb3JtLlxyXG4gICAgICovXHJcbiAgICBNb3JzZUNXV2F2ZS5wcm90b3R5cGUuZ2V0U2FtcGxlID0gZnVuY3Rpb24gKGVuZFBhZGRpbmcpIHtcclxuICAgICAgICBpZiAoZW5kUGFkZGluZyA9PT0gdm9pZCAwKSB7IGVuZFBhZGRpbmcgPSAwOyB9XHJcbiAgICAgICAgcmV0dXJuIE1vcnNlQ1dXYXZlLmdldFNhbXBsZUdlbmVyYWwodGhpcy5nZXRUaW1pbmdzKCksIHRoaXMuZnJlcXVlbmN5LCB0aGlzLnNhbXBsZVJhdGUsIGVuZFBhZGRpbmcpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2V0IGEgc2FtcGxlIHdhdmVmb3JtLCBub3QgdXNpbmcgV2ViIEF1ZGlvIEFQSSAoc3luY2hyb25vdXMpLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdGltaW5ncyAtIG1pbGxpc2Vjb25kIHRpbWluZ3MsICt2ZSBudW1iZXJzIHJlcHJlc2VudGluZyBzb3VuZCwgLXZlIGZvciBubyBzb3VuZCAoK3ZlLy12ZSBjYW4gYmUgaW4gYW55IG9yZGVyKVxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyZXF1ZW5jeSAtIGZyZXF1ZW5jeSBvZiBzb3VuZCBpbiBIei5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzYW1wbGVSYXRlIC0gc2FtcGxlIHJhdGUgaW4gSHouXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZFBhZGRpbmc9MF0gLSBob3cgbXVjaCBzaWxlbmNlIGluIG1zIHRvIGFkZCB0byB0aGUgZW5kIG9mIHRoZSB3YXZlZm9ybS5cclxuICAgICAqIEByZXR1cm4ge251bWJlcltdfSBhbiBhcnJheSBvZiBmbG9hdHMgaW4gcmFuZ2UgWy0xLCAxXSByZXByZXNlbnRpbmcgdGhlIHdhdmUtZm9ybS5cclxuICAgICAqL1xyXG4gICAgTW9yc2VDV1dhdmUuZ2V0U2FtcGxlR2VuZXJhbCA9IGZ1bmN0aW9uICh0aW1pbmdzLCBmcmVxdWVuY3ksIHNhbXBsZVJhdGUsIGVuZFBhZGRpbmcpIHtcclxuICAgICAgICBpZiAoZW5kUGFkZGluZyA9PT0gdm9pZCAwKSB7IGVuZFBhZGRpbmcgPSAwOyB9XHJcbiAgICAgICAgdmFyIHNhbXBsZSA9IFtdO1xyXG4gICAgICAgIGlmICh0aW1pbmdzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGFkZCBtaW5pbXVtIG9mIDVtcyBzaWxlbmNlIHRvIHRoZSBlbmQgdG8gZW5zdXJlIHRoZSBmaWx0ZXJlZCBzaWduYWwgY2FuIGZpbmlzaCBjbGVhbmx5XHJcbiAgICAgICAgdGltaW5ncy5wdXNoKC1NYXRoLm1heCg1LCBlbmRQYWRkaW5nKSk7XHJcbiAgICAgICAgLypcclxuICAgICAgICAgICAgQ29tcHV0ZSBsb3dwYXNzIGJpcXVhZCBmaWx0ZXIgY29lZmZpY2llbnRzIHVzaW5nIG1ldGhvZCBmcm9tIENocm9taXVtXHJcbiAgICAgICAgKi9cclxuICAgICAgICAvLyBzZXQgbG93cGFzcyBmcmVxdWVuY3kgY3V0b2ZmIHRvIDEuNSB4IHdhdmUgZnJlcXVlbmN5XHJcbiAgICAgICAgdmFyIGxvd3Bhc3NGcmVxID0gKGZyZXF1ZW5jeSAqIDEuNSkgLyBzYW1wbGVSYXRlO1xyXG4gICAgICAgIHZhciBxID0gTWF0aC5TUVJUMV8yO1xyXG4gICAgICAgIHZhciBzaW4gPSBNYXRoLnNpbigyICogTWF0aC5QSSAqIGxvd3Bhc3NGcmVxKTtcclxuICAgICAgICB2YXIgY29zID0gTWF0aC5jb3MoMiAqIE1hdGguUEkgKiBsb3dwYXNzRnJlcSk7XHJcbiAgICAgICAgdmFyIGFscGhhID0gc2luIC8gKDIgKiBNYXRoLnBvdygxMCwgcSAvIDIwKSk7XHJcbiAgICAgICAgdmFyIGEwID0gMSArIGFscGhhO1xyXG4gICAgICAgIHZhciBiMCA9ICgoMSAtIGNvcykgKiAwLjUpIC8gYTA7XHJcbiAgICAgICAgdmFyIGIxID0gKDEgLSBjb3MpIC8gYTA7XHJcbiAgICAgICAgdmFyIGIyID0gKCgxIC0gY29zKSAqIDAuNSkgLyBhMDtcclxuICAgICAgICB2YXIgYTEgPSAoLTIgKiBjb3MpIC8gYTA7XHJcbiAgICAgICAgdmFyIGEyID0gKDEgLSBhbHBoYSkgLyBhMDtcclxuICAgICAgICAvKlxyXG4gICAgICAgICAgICBDb21wdXRlIGZpbHRlcmVkIHNpZ25hbFxyXG4gICAgICAgICovXHJcbiAgICAgICAgdmFyIHN0ZXAgPSBNYXRoLlBJICogMiAqIGZyZXF1ZW5jeSAvIHNhbXBsZVJhdGU7XHJcbiAgICAgICAgdmFyIG9uID0gdGltaW5nc1swXSA+IDAgPyAxIDogMDtcclxuICAgICAgICB2YXIgeDAsIHgxID0gMCwgeDIgPSAwO1xyXG4gICAgICAgIHZhciB5MCwgeTEgPSAwLCB5MiA9IDA7XHJcbiAgICAgICAgdmFyIGdhaW4gPSAwLjgxMzsgLy8gZW1waXJpY2FsbHksIHRoZSBsb3dwYXNzIGZpbHRlciBvdXRwdXRzIHdhdmVmb3JtIG9mIG1hZ25pdHVkZSAxLjIzLCBzbyBuZWVkIHRvIHNjYWxlIGl0IGRvd24gdG8gYXZvaWQgY2xpcHBpbmdcclxuICAgICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IHRpbWluZ3MubGVuZ3RoOyB0ICs9IDEpIHtcclxuICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gc2FtcGxlUmF0ZSAqIE1hdGguYWJzKHRpbWluZ3NbdF0pIC8gMTAwMDtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkdXJhdGlvbjsgaSArPSAxKSB7XHJcbiAgICAgICAgICAgICAgICB4MCA9IG9uICogTWF0aC5zaW4oaSAqIHN0ZXApOyAvLyB0aGUgaW5wdXQgc2lnbmFsXHJcbiAgICAgICAgICAgICAgICB5MCA9IGIwICogeDAgKyBiMSAqIHgxICsgYjIgKiB4MiAtIGExICogeTEgLSBhMiAqIHkyO1xyXG4gICAgICAgICAgICAgICAgc2FtcGxlLnB1c2goeTAgKiBnYWluKTtcclxuICAgICAgICAgICAgICAgIHgyID0geDE7XHJcbiAgICAgICAgICAgICAgICB4MSA9IHgwO1xyXG4gICAgICAgICAgICAgICAgeTIgPSB5MTtcclxuICAgICAgICAgICAgICAgIHkxID0geTA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb24gPSAxIC0gb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzYW1wbGU7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYSBzYW1wbGUgd2F2ZWZvcm0gdXNpbmcgV2ViIEF1ZGlvIEFQSSAoYXN5bmNocm9ub3VzKS5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kUGFkZGluZz0wXSAtIGhvdyBtdWNoIHNpbGVuY2UgaW4gbXMgdG8gYWRkIHRvIHRoZSBlbmQgb2YgdGhlIHdhdmVmb3JtLlxyXG4gICAgICogQHJldHVybiB7UHJvbWlzZShudW1iZXJbXSl9IGEgUHJvbWlzZSByZXNvbHZpbmcgdG8gYW4gYXJyYXkgb2YgZmxvYXRzIGluIHJhbmdlIFstMSwgMV0gcmVwcmVzZW50aW5nIHRoZSB3YXZlLWZvcm0uXHJcbiAgICAgKi9cclxuICAgIE1vcnNlQ1dXYXZlLnByb3RvdHlwZS5nZXRXQUFTYW1wbGUgPSBmdW5jdGlvbiAoZW5kUGFkZGluZykge1xyXG4gICAgICAgIGlmIChlbmRQYWRkaW5nID09PSB2b2lkIDApIHsgZW5kUGFkZGluZyA9IDA7IH1cclxuICAgICAgICAvLyBhZGQgbWluaW11bSBvZiA1bXMgc2lsZW5jZSB0byB0aGUgZW5kIHRvIGVuc3VyZSB0aGUgZmlsdGVyZWQgc2lnbmFsIGNhbiBmaW5pc2ggY2xlYW5seVxyXG4gICAgICAgIGVuZFBhZGRpbmcgPSBNYXRoLm1heCg1LCBlbmRQYWRkaW5nKTtcclxuICAgICAgICB2YXIgdGltaW5ncyA9IHRoaXMuZ2V0VGltaW5ncygpO1xyXG4gICAgICAgIHRpbWluZ3MucHVzaCgtZW5kUGFkZGluZyk7XHJcbiAgICAgICAgdmFyIG9mZmxpbmVBdWRpb0NvbnRleHRDbGFzcyA9IHdpbmRvdy5PZmZsaW5lQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRPZmZsaW5lQXVkaW9Db250ZXh0O1xyXG4gICAgICAgIGlmIChvZmZsaW5lQXVkaW9Db250ZXh0Q2xhc3MgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBPZmZsaW5lQXVkaW9Db250ZXh0IGNsYXNzIGRlZmluZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGJ1ZmZlciBsZW5ndGggaXMgdGhlIE1vcnNlIGR1cmF0aW9uICsgNW1zIHRvIGxldCB0aGUgbG93cGFzcyBmaWx0ZXIgZW5kIGNsZWFubHlcclxuICAgICAgICB2YXIgb2ZmbGluZUN0eCA9IG5ldyBvZmZsaW5lQXVkaW9Db250ZXh0Q2xhc3MoMSwgdGhpcy5zYW1wbGVSYXRlICogKHRoaXMuZ2V0RHVyYXRpb24oKSArIGVuZFBhZGRpbmcpIC8gMTAwMCwgdGhpcy5zYW1wbGVSYXRlKTtcclxuICAgICAgICB2YXIgZ2Fpbk5vZGUgPSBvZmZsaW5lQ3R4LmNyZWF0ZUdhaW4oKTtcclxuICAgICAgICAvLyBlbXBpcmljYWxseSwgdGhlIGxvd3Bhc3MgZmlsdGVyIG91dHB1dHMgd2F2ZWZvcm0gb2YgbWFnbml0dWRlIDEuMjMsIHNvIG5lZWQgdG8gc2NhbGUgaXQgZG93biB0byBhdm9pZCBjbGlwcGluZ1xyXG4gICAgICAgIGdhaW5Ob2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUoMC44MTMsIDApO1xyXG4gICAgICAgIHZhciBsb3dQYXNzTm9kZSA9IG9mZmxpbmVDdHguY3JlYXRlQmlxdWFkRmlsdGVyKCk7XHJcbiAgICAgICAgbG93UGFzc05vZGUudHlwZSA9IFwibG93cGFzc1wiO1xyXG4gICAgICAgIGxvd1Bhc3NOb2RlLmZyZXF1ZW5jeS5zZXRWYWx1ZUF0VGltZSh0aGlzLmZyZXF1ZW5jeSAqIDEuMSwgMCk7IC8vIFRPRE86IHJlbW92ZSB0aGlzIG1hZ2ljIG51bWJlciBhbmQgbWFrZSB0aGUgZmlsdGVyIGNvbmZpZ3VyYWJsZT9cclxuICAgICAgICBnYWluTm9kZS5jb25uZWN0KGxvd1Bhc3NOb2RlKTtcclxuICAgICAgICBsb3dQYXNzTm9kZS5jb25uZWN0KG9mZmxpbmVDdHguZGVzdGluYXRpb24pO1xyXG4gICAgICAgIHZhciB0ID0gMDtcclxuICAgICAgICB2YXIgb3NjaWxsYXRvcjtcclxuICAgICAgICB2YXIgZHVyYXRpb247XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aW1pbmdzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGR1cmF0aW9uID0gTWF0aC5hYnModGltaW5nc1tpXSkgLyAxMDAwO1xyXG4gICAgICAgICAgICBpZiAodGltaW5nc1tpXSA+IDApIHsgLy8gLXZlIHRpbWluZ3MgYXJlIHNpbGVuY2VcclxuICAgICAgICAgICAgICAgIG9zY2lsbGF0b3IgPSBvZmZsaW5lQ3R4LmNyZWF0ZU9zY2lsbGF0b3IoKTtcclxuICAgICAgICAgICAgICAgIG9zY2lsbGF0b3IudHlwZSA9ICdzaW5lJztcclxuICAgICAgICAgICAgICAgIG9zY2lsbGF0b3IuZnJlcXVlbmN5LnNldFZhbHVlQXRUaW1lKHRoaXMuZnJlcXVlbmN5LCB0KTtcclxuICAgICAgICAgICAgICAgIG9zY2lsbGF0b3Iuc3RhcnQodCk7XHJcbiAgICAgICAgICAgICAgICBvc2NpbGxhdG9yLnN0b3AodCArIGR1cmF0aW9uKTtcclxuICAgICAgICAgICAgICAgIG9zY2lsbGF0b3IuY29ubmVjdChnYWluTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdCArPSBkdXJhdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9mZmxpbmVDdHguc3RhcnRSZW5kZXJpbmcoKS50aGVuKGZ1bmN0aW9uIChyZW5kZXJlZEJ1ZmZlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVuZGVyZWRCdWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIE1vcnNlQ1dXYXZlO1xyXG59KG1vcnNlX3Byb19jd18xLmRlZmF1bHQpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gTW9yc2VDV1dhdmU7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG4vKlxyXG4qIFJJRkZXQVZFIGFkYXB0ZWQgZnJvbSBSSUZGV0FWRS5qcyB2MC4wMyAtIEF1ZGlvIGVuY29kZXIgZm9yIEhUTUw1IDxhdWRpbz4gZWxlbWVudHMuXHJcbiogQ29weWxlZnQgMjAxMSBieSBQZWRybyBMYWRhcmlhIDxwZWRyby5sYWRhcmlhIGF0IEdtYWlsIGRvdCBjb20+XHJcbiogUHVibGljIERvbWFpblxyXG4qL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuZ2V0TUlNRVR5cGUgPSBleHBvcnRzLmdldERhdGEgPSB2b2lkIDA7XHJcbi8qXHJcbiogQWRhcHRhdGlvbiBieSBTdGVwaGVuIEMuIFBoaWxsaXBzLCAyMDEzLTIwMTcuXHJcbiogRW1haWw6IHN0ZXZlQHNjcGhpbGxpcHMuY29tXHJcbiogUHVibGljIERvbWFpblxyXG4qL1xyXG4vKipcclxuICogVXRpbGl0eSB0byBjcmVhdGUgUklGRiBXQVZFIGZpbGUgZGF0YS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogaW1wb3J0IE1vcnNlQ1dXYXZlIGZyb20gJ21vcnNlLXByby1jdy13YXZlJztcclxuICogaW1wb3J0ICogYXMgUmlmZldhdmUgZnJvbSAnbW9yc2UtcHJvLXV0aWwtcmlmZndhdmUnO1xyXG4gKiB2YXIgbW9yc2VDV1dhdmUgPSBuZXcgTW9yc2VDV1dhdmUoKTtcclxuICogbW9yc2VDV1dhdmUudHJhbnNsYXRlKFwiYWJjXCIpO1xyXG4gKiB2YXIgd2F2ID0gUmlmZldhdmUuZ2V0RGF0YShtb3JzZUNXV2F2ZS5nZXRTYW1wbGUoKSk7ICAvLyByZXR1cm5zIGJ5dGUgYXJyYXkgb2YgV0FWIGZpbGVcclxuICAqL1xyXG52YXIgdTMyVG9BcnJheSA9IGZ1bmN0aW9uIChpKSB7XHJcbiAgICByZXR1cm4gW2kgJiAweEZGLCAoaSA+PiA4KSAmIDB4RkYsIChpID4+IDE2KSAmIDB4RkYsIChpID4+IDI0KSAmIDB4RkZdO1xyXG59O1xyXG52YXIgdTE2VG9BcnJheSA9IGZ1bmN0aW9uIChpKSB7XHJcbiAgICByZXR1cm4gW2kgJiAweEZGLCAoaSA+PiA4KSAmIDB4RkZdO1xyXG59O1xyXG52YXIgc3BsaXQxNmJpdEFycmF5ID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgIHZhciByID0gW107XHJcbiAgICB2YXIgaiA9IDA7XHJcbiAgICB2YXIgbGVuID0gZGF0YS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgcltqKytdID0gZGF0YVtpXSAmIDB4RkY7XHJcbiAgICAgICAgcltqKytdID0gKGRhdGFbaV0gPj4gOCkgJiAweEZGO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcbnZhciBmVG9VOCA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICB2YXIgciA9IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgcltpXSA9IE1hdGgubWF4KE1hdGgubWluKDEyOCArIE1hdGgucm91bmQoMTI3ICogZGF0YVtpXSksIDI1NSksIDApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcbi8qKlxyXG4gKiBDb252ZXJ0IFBDTSBkYXRhIHRvIFdBViBmaWxlIGRhdGEuXHJcbiAqIEBwYXJhbSB7bnVtYmVyW119IGRhdGEgLSB3YXZlZm9ybSBkYXRhLCBleHBlY3RlZCB0byBiZSBpbiAoYW5kIGNsYW1wZWQgdG8pIHJhbmdlIFstMSwxXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW3NhbXBsZVJhdGU9ODAwMF0gLSB0aGUgc2FtcGxlIHJhdGUgb2YgdGhlIHdhdmVmb3JtIGluIEh6XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbYml0c1BlclNhbXBsZT04XSAtIG51bWJlciBvZiBiaXRzIHRvIHN0b3JlIGVhY2ggZGF0YSBwb2ludCAoOCBvciAxNilcclxuICogQHJldHVybiB7bnVtYmVyW119IC0gYXJyYXkgb2YgYnl0ZXMgcmVwcmVzZW50aW5nIHRoZSBXQVYgZmlsZVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0RGF0YShkYXRhLCBzYW1wbGVSYXRlLCBiaXRzUGVyU2FtcGxlKSB7XHJcbiAgICBpZiAoc2FtcGxlUmF0ZSA9PT0gdm9pZCAwKSB7IHNhbXBsZVJhdGUgPSA4MDAwOyB9XHJcbiAgICBpZiAoYml0c1BlclNhbXBsZSA9PT0gdm9pZCAwKSB7IGJpdHNQZXJTYW1wbGUgPSA4OyB9XHJcbiAgICBkYXRhID0gZlRvVTgoZGF0YSk7XHJcbiAgICB2YXIgaGVhZGVyID0ge1xyXG4gICAgICAgIGNodW5rSWQ6IFsweDUyLCAweDQ5LCAweDQ2LCAweDQ2XSxcclxuICAgICAgICBjaHVua1NpemU6IDAsXHJcbiAgICAgICAgZm9ybWF0OiBbMHg1NywgMHg0MSwgMHg1NiwgMHg0NV0sXHJcbiAgICAgICAgc3ViQ2h1bmsxSWQ6IFsweDY2LCAweDZkLCAweDc0LCAweDIwXSxcclxuICAgICAgICBzdWJDaHVuazFTaXplOiAxNixcclxuICAgICAgICBhdWRpb0Zvcm1hdDogMSxcclxuICAgICAgICBudW1DaGFubmVsczogMSxcclxuICAgICAgICBzYW1wbGVSYXRlOiBzYW1wbGVSYXRlLFxyXG4gICAgICAgIGJ5dGVSYXRlOiAwLFxyXG4gICAgICAgIGJsb2NrQWxpZ246IDAsXHJcbiAgICAgICAgYml0c1BlclNhbXBsZTogYml0c1BlclNhbXBsZSxcclxuICAgICAgICBzdWJDaHVuazJJZDogWzB4NjQsIDB4NjEsIDB4NzQsIDB4NjFdLFxyXG4gICAgICAgIHN1YkNodW5rMlNpemU6IDAgLy8gNDAgICA0ICAgIGRhdGEgc2l6ZSA9IE51bVNhbXBsZXMqTnVtQ2hhbm5lbHMqQml0c1BlclNhbXBsZS84XHJcbiAgICB9O1xyXG4gICAgaGVhZGVyLmJsb2NrQWxpZ24gPSAoaGVhZGVyLm51bUNoYW5uZWxzICogaGVhZGVyLmJpdHNQZXJTYW1wbGUpID4+IDM7XHJcbiAgICBoZWFkZXIuYnl0ZVJhdGUgPSBoZWFkZXIuYmxvY2tBbGlnbiAqIGhlYWRlci5zYW1wbGVSYXRlO1xyXG4gICAgaGVhZGVyLnN1YkNodW5rMlNpemUgPSBkYXRhLmxlbmd0aCAqIChoZWFkZXIuYml0c1BlclNhbXBsZSA+PiAzKTtcclxuICAgIGhlYWRlci5jaHVua1NpemUgPSAzNiArIGhlYWRlci5zdWJDaHVuazJTaXplO1xyXG4gICAgcmV0dXJuIGhlYWRlci5jaHVua0lkLmNvbmNhdCh1MzJUb0FycmF5KGhlYWRlci5jaHVua1NpemUpLCBoZWFkZXIuZm9ybWF0LCBoZWFkZXIuc3ViQ2h1bmsxSWQsIHUzMlRvQXJyYXkoaGVhZGVyLnN1YkNodW5rMVNpemUpLCB1MTZUb0FycmF5KGhlYWRlci5hdWRpb0Zvcm1hdCksIHUxNlRvQXJyYXkoaGVhZGVyLm51bUNoYW5uZWxzKSwgdTMyVG9BcnJheShoZWFkZXIuc2FtcGxlUmF0ZSksIHUzMlRvQXJyYXkoaGVhZGVyLmJ5dGVSYXRlKSwgdTE2VG9BcnJheShoZWFkZXIuYmxvY2tBbGlnbiksIHUxNlRvQXJyYXkoaGVhZGVyLmJpdHNQZXJTYW1wbGUpLCBoZWFkZXIuc3ViQ2h1bmsySWQsIHUzMlRvQXJyYXkoaGVhZGVyLnN1YkNodW5rMlNpemUpLCAoaGVhZGVyLmJpdHNQZXJTYW1wbGUgPT0gMTYpID8gc3BsaXQxNmJpdEFycmF5KGRhdGEpIDogZGF0YSk7XHJcbn1cclxuZXhwb3J0cy5nZXREYXRhID0gZ2V0RGF0YTtcclxuZnVuY3Rpb24gZ2V0TUlNRVR5cGUoKSB7XHJcbiAgICByZXR1cm4gXCJhdWRpby93YXZcIjtcclxufVxyXG5leHBvcnRzLmdldE1JTUVUeXBlID0gZ2V0TUlNRVR5cGU7XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJcclxuaW1wb3J0IE1vcnNlQ1dXYXZlIGZyb20gJy4vbW9yc2UtcHJvL21vcnNlLXByby1jdy13YXZlLmpzJztcclxuaW1wb3J0ICogYXMgUmlmZldhdmUgZnJvbSAnLi9tb3JzZS1wcm8vbW9yc2UtcHJvLXV0aWwtcmlmZndhdmUuanMnO1xyXG4vL2ltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJztcclxuXHJcblxyXG4vL1BPQyB3ZSBzYXZlIHRvIHBoeXNpY2FsIGZpbGVcclxuLy9mcy53cml0ZUZpbGVTeW5jKCd0ZXN0LndhdicsbmV3IEludDhBcnJheSggd2F2KSk7XHJcbmxldCBtZXNzYWdlOiBzdHJpbmcgPSAnSGVsbG8gV29ybGQyJztcclxuY29uc29sZS5sb2cobWVzc2FnZSk7XHJcbmxldCBteUF1ZGlvID0gbmV3IEF1ZGlvKCk7XHJcblxyXG5mdW5jdGlvbiBkb1BsYXkod29yZDpzdHJpbmcsIHdwbTpudW1iZXIsIGZ3cG06bnVtYmVyLG9uRW5kZWQ6YW55KSB7XHJcbiAgICBsZXQgdXNlUHJvc2lnbnM9dHJ1ZTtcclxuICAgIGxldCBmcmVxdWVuY3k9NTUwO1xyXG4gICAgbGV0IHNhbXBsZVJhdGU9ODAwMDtcclxuICAgIGxldCB1bml0ID0gMTIwMCAvIGZ3cG07XHJcbiAgICBjb25zb2xlLmxvZyh1bml0KTtcclxuICAgIGxldCB3b3JkU3BhY2UgPSB1bml0ICogNztcclxuICAgIGxldCBtb3JzZUNXV2F2ZSA9IG5ldyBNb3JzZUNXV2F2ZSh1c2VQcm9zaWducywgd3BtLCBmd3BtLCBmcmVxdWVuY3ksIHNhbXBsZVJhdGUpO1xyXG4gICAgbW9yc2VDV1dhdmUudHJhbnNsYXRlKHdvcmQsZmFsc2UpO1xyXG4gICAgdmFyIHdhdiA9IFJpZmZXYXZlLmdldERhdGEobW9yc2VDV1dhdmUuZ2V0U2FtcGxlKHdvcmRTcGFjZSkpOyBcclxuICAgIG15QXVkaW8gPSBudWxsO1xyXG4gICAgbXlBdWRpbyA9IG5ldyBBdWRpbygpO1xyXG4gICAgbGV0IG15YnVmID0gbmV3IEludDhBcnJheSh3YXYpLmJ1ZmZlcjtcclxuICAgIFxyXG4gICAgbGV0IHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtteWJ1Zl0pKTtcclxuICAgIFxyXG4gICAgbXlBdWRpby5zcmM9dXJsO1xyXG4gICAgbXlBdWRpby5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsICgpPT57XHJcbiAgICAgICAgb25FbmRlZCgpO1xyXG4gICAgfSk7XHJcbiAgICBteUF1ZGlvLnBsYXkoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZG9QYXVzZShwYXVzZUNhbGxCYWNrKSB7XHJcbiAgICBteUF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ3BhdXNlJywgKCk9PntcclxuICAgICAgICBwYXVzZUNhbGxCYWNrKCk7XHJcbiAgICB9IClcclxuICAgIGNvbnNvbGUubG9nKFwiZW5kZWQ6XCIgKyBteUF1ZGlvLmVuZGVkKTtcclxuICAgIGlmIChteUF1ZGlvLmVuZGVkIHx8IG15QXVkaW8ucGF1c2VkIHx8ICFteUF1ZGlvLnNyYykge1xyXG4gICAgICAgIHBhdXNlQ2FsbEJhY2soKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBteUF1ZGlvLnBhdXNlKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbih3aW5kb3cgYXMgYW55KS5kb1BsYXkgPSBkb1BsYXk7XHJcbih3aW5kb3cgYXMgYW55KS5kb1BhdXNlID0gZG9QYXVzZTtcclxuXHJcbiJdLCJuYW1lcyI6WyJkaXRMZW5ndGgiLCJ3cG0iLCJNYXRoIiwicm91bmQiLCJfZGl0TGVuZ3RoIiwid29yZFNwYWNlIiwiZndwbSIsIl9mZGl0TGVuZ3RoIiwicmF0aW8iLCJTdHJpbmciLCJwcm90b3R5cGUiLCJ0cmltIiwidGhpcyIsInJlcGxhY2UiLCJ0ZXh0Mm1vcnNlSCIsIm1vcnNlMnRleHRIIiwicHJvc2lnbjJtb3JzZUgiLCJtb3JzZXBybzJ0ZXh0SCIsInRleHQybW9yc2Vwcm9IIiwic2lnbiIsInRpZHlNb3JzZSIsIm1vcnNlIiwidXNlUHJvc2lnbnMiLCJpbnB1dCIsIm91dHB1dCIsIm1lc3NhZ2UiLCJpbnB1dFdhc01vcnNlIiwidW5kZWZpbmVkIiwiaGFzRXJyb3IiLCJ0cmFuc2xhdGUiLCJpc01vcnNlIiwidHJhbnNsYXRpb24iLCJtYXRjaCIsInJldCIsImRpY3QiLCJjIiwidCIsInRva2VucyIsInNwbGl0IiwiaSIsImxlbmd0aCIsInNsaWNlIiwidGV4dCIsInRvVXBwZXJDYXNlIiwidGlkeVRleHQiLCJwcm9zaWduIiwidG9rZW5fbGVuZ3RoIiwicHVzaCIsIkVycm9yIiwiY2xlYXJFcnJvciIsIl93cG0iLCJfZndwbSIsImdldFRpbWluZ3MiLCJNb3JzZUNXIiwiZ2V0VGltaW5nc0dlbmVyYWwiLCJkaXQiLCJkYWgiLCJkaXRTcGFjZSIsImNoYXJTcGFjZSIsInRpbWVzIiwiZ2V0RHVyYXRpb24iLCJhYnMiLCJleHRlbmRTdGF0aWNzIiwiX19leHRlbmRzIiwiZCIsImIiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwicCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlR5cGVFcnJvciIsIl9fIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIk1vcnNlQ1dXYXZlIiwiX3N1cGVyIiwiZnJlcXVlbmN5Iiwic2FtcGxlUmF0ZSIsIl90aGlzIiwiZ2V0U2FtcGxlIiwiZW5kUGFkZGluZyIsImdldFNhbXBsZUdlbmVyYWwiLCJ0aW1pbmdzIiwic2FtcGxlIiwibWF4IiwieDAiLCJ5MCIsImxvd3Bhc3NGcmVxIiwicSIsIlNRUlQxXzIiLCJzaW4iLCJQSSIsImNvcyIsImFscGhhIiwicG93IiwiYTAiLCJiMCIsImIxIiwiYjIiLCJhMSIsImEyIiwic3RlcCIsIm9uIiwieDEiLCJ4MiIsInkxIiwieTIiLCJkdXJhdGlvbiIsImdldFdBQVNhbXBsZSIsIm9mZmxpbmVBdWRpb0NvbnRleHRDbGFzcyIsIndpbmRvdyIsIk9mZmxpbmVBdWRpb0NvbnRleHQiLCJ3ZWJraXRPZmZsaW5lQXVkaW9Db250ZXh0Iiwib2ZmbGluZUN0eCIsImdhaW5Ob2RlIiwiY3JlYXRlR2FpbiIsImdhaW4iLCJzZXRWYWx1ZUF0VGltZSIsImxvd1Bhc3NOb2RlIiwiY3JlYXRlQmlxdWFkRmlsdGVyIiwidHlwZSIsImNvbm5lY3QiLCJkZXN0aW5hdGlvbiIsIm9zY2lsbGF0b3IiLCJjcmVhdGVPc2NpbGxhdG9yIiwic3RhcnQiLCJzdG9wIiwic3RhcnRSZW5kZXJpbmciLCJ0aGVuIiwicmVuZGVyZWRCdWZmZXIiLCJnZXRDaGFubmVsRGF0YSIsImRlZmF1bHQiLCJ1MzJUb0FycmF5IiwidTE2VG9BcnJheSIsImRhdGEiLCJiaXRzUGVyU2FtcGxlIiwiciIsIm1pbiIsImZUb1U4IiwiaGVhZGVyIiwiY2h1bmtJZCIsImNodW5rU2l6ZSIsImZvcm1hdCIsInN1YkNodW5rMUlkIiwic3ViQ2h1bmsxU2l6ZSIsImF1ZGlvRm9ybWF0IiwibnVtQ2hhbm5lbHMiLCJieXRlUmF0ZSIsImJsb2NrQWxpZ24iLCJzdWJDaHVuazJJZCIsInN1YkNodW5rMlNpemUiLCJjb25jYXQiLCJqIiwibGVuIiwic3BsaXQxNmJpdEFycmF5IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm4iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsImNvbnNvbGUiLCJsb2ciLCJteUF1ZGlvIiwiQXVkaW8iLCJkb1BsYXkiLCJ3b3JkIiwib25FbmRlZCIsInVuaXQiLCJtb3JzZUNXV2F2ZSIsIndhdiIsIm15YnVmIiwiSW50OEFycmF5IiwiYnVmZmVyIiwidXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiQmxvYiIsInNyYyIsImFkZEV2ZW50TGlzdGVuZXIiLCJwbGF5IiwiZG9QYXVzZSIsInBhdXNlQ2FsbEJhY2siLCJlbmRlZCIsInBhdXNlZCIsInBhdXNlIl0sInNvdXJjZVJvb3QiOiIifQ==